<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' data:">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Order Queue</title>
  <style>
    ::-webkit-scrollbar {
      display: none;
    }
    :root {
      --bg:#0b0b0c; --panel:#121214; --muted:#a1a1aa; --text:#e5e7eb;
      --border:#27272a; --green:#22c55e; --red:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:13px/1.45 system-ui, -apple-system, Segoe UI, Roboto, sans-serif}
    .toolbar{position:sticky;top:0;z-index:5;display:flex;gap:12px;align-items:center;padding:10px 12px;background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,0));backdrop-filter:saturate(1.2) blur(4px)}
    .title{font-weight:600;opacity:.9}
    /* leave space for bottom command line (approx 48px) */
    #wrap{height:calc(100% - 44px - 48px);overflow:auto}
    #grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:8px;padding:10px 12px}
    .card{background:var(--panel);border:1px solid var(--border);border-radius:10px;padding:8px;display:flex;flex-direction:column;gap:8px}
    .row{display:flex;justify-content:space-between;align-items:center}
    .meta{display:flex;gap:8px;color:var(--muted);font-size:12px}
    .badge{padding:2px 6px;border-radius:999px;font-size:12px}
    .badge.up{background:rgba(34,197,94,.12);color:#86efac}
    .badge.down{background:rgba(239,68,68,.12);color:#fca5a5}
    .quad-line{display:grid;grid-template-columns:1fr 1.2fr 1fr 1fr;gap:6px}
    input.num{width:100%;padding:6px 7px;border:1px solid var(--border);border-radius:8px;background:#0f0f11;color:var(--text);outline:none}
    input.num.sl{border-color:rgba(239,68,68,.35)}
    input.num.tp{border-color:rgba(34,197,94,.35)}
    .btns{display:grid;gap:6px}
    .btn{padding:7px 8px;border:1px solid var(--border);border-radius:8px;background:#18181b;color:#fff;cursor:pointer}
    .btn:hover{filter:brightness(1.1)}
    /* Кнопки: направления по цветам */
    .btn.bl,
    .btn.bc { background: var(--green); } /* зелёные: BL, BC */

    .btn.sl,
    .btn.sc { background: var(--red); }   /* красные: SL, SC */

    /* опционально можно слегка усилить hover */
    .btn:hover { filter: brightness(1.08); }

    /* чтобы disabled не путал — просто делаем бледнее */
    button:disabled { opacity: 0.5; pointer-events: none; }

    /* Новые стили для требований */
    .card.card--invalid { opacity: 0.55; filter: grayscale(0.2); }
    .input--error { border: 1px solid red !important; }

    /* Спрятать стрелочки у number */
    input[type=number]::-webkit-outer-spin-button,
    input[type=number]::-webkit-inner-spin-button { -webkit-appearance:none; margin:0; }
    input[type=number] { -moz-appearance:textfield; }

    /* micro cards */
    .card--mini { padding: 2px 6px; gap: 0; }

    .card__status { width:10px; height:10px; border-radius:50%; display:none; margin-left:6px; }
    .card__status--pending { background:#9ca3af; }
    .card__status--pending-exec { background:#9ca3af; color:#000; border-radius:4px; padding:2px 6px; width:auto; height:auto; }
    .card__status--placed { background:#f97316; }
    .card__status--executing { background:#3b82f6; }
    .card__status--profit { background:var(--green); }
    .card__status--loss { background:var(--red); }
    .retry-btn { width:22px; height:22px; border-radius:50%; border:1px solid var(--border); background:#18181b; color:#fff; font-size:11px; margin-left:6px; cursor:pointer; }
    .retry-btn:hover{filter:brightness(1.1)}
    .card__note{font-size:12px;color:var(--red);display:none}

    /* command line input at bottom */
    #cmdline-wrap{position:fixed;left:0;bottom:0;width:100%;height:48px;padding:6px 12px;background:rgba(0,0,0,.55);backdrop-filter:saturate(1.2) blur(4px);}
    #cmdline{width:100%;height:100%;padding:6px 7px;border:1px solid var(--border);border-radius:8px;background:#0f0f11;color:var(--text);outline:none;}
  </style>
</head>
<body>
  <div class="toolbar">
    <div class="title">Order Queue</div>
    <input id="filter" placeholder="Filter: ticker prefix…" />
    <label style="display:flex;align-items:center;gap:6px;opacity:.85">
      <input type="checkbox" id="autoscroll" checked />
      <span>Autoscroll</span>
    </label>
  </div>
  <div id="wrap">
    <div id="grid"></div>
  </div>
  <div id="cmdline-wrap">
    <input id="cmdline" placeholder="Enter command" />
  </div>
  <script src="./renderer.js"></script>
</body>
</html>
